<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Viewer</title>
</head>
<body>
    <h1>Images for Primary Key: <span id="primaryKey"></span></h1>
    <div id="images">
        <img id="image1" src="" alt="Image 1">
        <img id="image2" src="" alt="Image 2">
        <img id="image3" src="" alt="Image 3">
        <img id="image4" src="" alt="Image 4">
        <img id="image5" src="" alt="Image 5">
        <img id="image6" src="" alt="Image 6">
        <img id="image7" src="" alt="Image 7">
        <img id="image8" src="" alt="Image 8">
    </div>
    <script>
        async function loadImages() {
            // Extract the primary key from the URL path
            const pathParts = window.location.pathname.split('/');
            const primaryKey = pathParts[pathParts.length - 1];
            document.getElementById('primaryKey').innerText = primaryKey;

            // Fetch images from your API
            try {
                const response = await fetch(`https://sliding-puzzle-worker.avi-pal357.workers.dev/s/${primaryKey}`);
                if (response.ok) {
                    const images = await response.json();

                    // Populate the images in the page
                    for (let i = 1; i <= 8; i++) {
                        document.getElementById(`image${i}`).src = images[`image_${i}`];
                    }
                } else {
                    document.getElementById('images').innerText = 'No images found for this primary key.';
                }
            } catch (error) {
                console.error('Error fetching images:', error);
                document.getElementById('images').innerText = 'Error fetching images.';
            }
        }

        window.onload = loadImages;
    </script>
</body>
</html>
